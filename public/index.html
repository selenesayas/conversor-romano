<script>
  async function convertirArabigo() {
    const num = document.getElementById('numArabigo').value;
    try {
      const res = await fetch(`/a2r?arabic=${num}`);
      const data = await res.json();

      if (!res.ok) {
        document.getElementById('resultadoArabigo').textContent = data.error;
      } else {
        document.getElementById('resultadoArabigo').textContent = data.roman;
      }
    } catch(err) {
      document.getElementById('resultadoArabigo').textContent = 'Error en la conversión';
    }
  }

  async function convertirRomano() {
    const romano = document.getElementById('numRomano').value;
    try {
      const res = await fetch(`/r2a?roman=${romano}`);
      const data = await res.json();

      if (!res.ok) {
        document.getElementById('resultadoRomano').textContent = data.error;
      } else {
        document.getElementById('resultadoRomano').textContent = data.arabic;
      }
    } catch(err) {
      document.getElementById('resultadoRomano').textContent = 'Error en la conversión';
    }
  }
</script>

