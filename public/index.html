<script>
  async function convertirArabigo() {
    const num = document.getElementById('numArabigo').value;
    try {
      const res = await fetch(`/api/a2r?num=${num}`);
      const data = await res.json();

      if (data.error) {
        document.getElementById('resultadoArabigo').textContent = data.error;
      } else {
        document.getElementById('resultadoArabigo').textContent = data.romano;
      }
    } catch(err) {
      document.getElementById('resultadoArabigo').textContent = 'Error en la conversión';
    }
  }

  async function convertirRomano() {
    const romano = document.getElementById('numRomano').value;
    try {
      const res = await fetch(`/api/r2a?romano=${romano}`);
      const data = await res.json();

      if (data.error) {
        document.getElementById('resultadoRomano').textContent = data.error;
      } else {
        document.getElementById('resultadoRomano').textContent = data.numero;
      }
    } catch(err) {
      document.getElementById('resultadoRomano').textContent = 'Error en la conversión';
    }
  }
</script>
